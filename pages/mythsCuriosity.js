// import type { NextPage } from 'next'
import Head from 'next/head'
import Image from 'next/image'

import { createClient } from 'next-sanity'

import Header from '../public/components/header';
import Footer from '../public/components/footer.js';
import MythCard from '../public/components/cards/mythCard';

import Layout from '../public/components/layout';

import RoadtripMap from '../public/components/roadtripMap';

import { Tooltip } from '../public/components/tooltip';

import { Paper } from '@mui/material'



const client = createClient({
  projectId: 'hiagtp2f',
  dataset: 'production',
  apiVersion: '2022-10-03',
  useCdn: false,
});

export default function MythsCuriosity({myth, footerContent, mythCuriosityHeader}) {
  return (
    <>
      <Head>
        <title>ABA: Myths and Curiosity</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
                <link rel="stylesheet" href="https://use.typekit.net/hco7ora.css" />

      </Head>

      <Header />
      <Layout title='ABA: Myths and Curiosity' description=' '>
        <div id='body'>
          {/* <h1> Myths &#38; Curiosity</h1> */}
          <Paper className='collapsed'>
            <a href='#myths' className='collapsed-desc'>
              {/* Display the first item in mythsCuriosityHeader */}
              <h1>{mythCuriosityHeader[1]?.title}</h1>
              <h3>{mythCuriosityHeader[1]?.desc}</h3>
            </a>
          </Paper>
          <div className='collapsed-content' id='myths'>
          {myth.map((myth) => (
            <MythCard key={myth._id}
              mythTitle={myth?.title}
              mythDesc={myth?.body}
              mythLink={myth?.link}
              mythLinkNote={myth?.linkNote} />
          ))}
          </div>

          <Paper className='collapsed'>
            <a href='#curiosity' className='collapsed-desc'>
              <h1>{mythCuriosityHeader[0]?.title}</h1>
              <h3>{mythCuriosityHeader[0]?.desc}</h3>
            </a>
          </Paper>
          <div className='collapsed-content' id='curiosity'>
          {/* <Tooltip tooltipText="Washington, DC"> */}
            <h1>Be Curious on Your Next Roadtrip!</h1>
          {/* </Tooltip> */}
          <p style={{textAlign: "center"}}>As racial minorities, we do not see our histories taught in formal education. Therefore, we need to self educate with true and comprehensive information. When you plan your next family vacation, consider building in a couple of such lessons to learn about ourselves and each other</p>
            <RoadtripMap />
            </div>
        </div>


      </Layout>
      <Footer link={
          footerContent[0]?.link
        } body={
          footerContent[0]?.body
        } />
    </>
  )
}


export async function getStaticProps() {
  const myth = await client.fetch(`*[_type == "myth"] | order(order asc)`);
  const footerContent = await client.fetch(`*[_type == "footerContent"]  | order(order asc)`)
  const mythCuriosityHeader = await client.fetch(`*[_type == "mythCuriosityHeader"]  | order(order asc)`)

  return {
    props: {
      myth,
      footerContent,
      mythCuriosityHeader,
    },
    revalidate: 10,

  };
}